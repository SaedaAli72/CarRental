@model CarRentalBLL.ViewModels.Car.CarDetailsWithReviewVM

@section Styles {
    
    <link rel="stylesheet" href="~/css/car-details.css" />
    <link rel="stylesheet" href="~/css/CarDetails2.css" />
    <link rel="stylesheet" href="~/css/reviews_cars.css" />
}
@{
    ViewData["Title"] = "Details";
}


<!-- Page Header -->
<section class="page-header">
    <div class="container">
        <h1 class="page-title">@Model.Name</h1>
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a asp-action="index" asp-controller="test" style="color: rgba(255,255,255,0.8); text-decoration: none;">Home</a></li>
                <li class="breadcrumb-item"><a  asp-action="index" asp-controller="car"  style="color: rgba(255,255,255,0.8); text-decoration: none;">Vehicles</a></li>
                <li class="breadcrumb-item active" aria-current="page">Car Details</li>
            </ol>
        </nav>
    </div>
</section>

<!-- Car Details Section -->
<section class="details-section">
    <div class="container">
        <div class="row">
            <!-- Left Column -->
            <div class="col-lg-8">
                <!-- Image Gallery -->
                @if (Model.CarImages != null)
                {
                  

                        <div style="--swiper-navigation-color: #fff; --swiper-pagination-color: #fff" class="swiper mySwiper2 car-slider-main">
                            <div class="swiper-wrapper">
                                @foreach (var img in Model.CarImages)
                                {
                                    <div class="swiper-slide">
                                        <img src="/@img.ImagePath" />
                                    </div>
                                }
                            </div>
                            <div class="swiper-button-next"></div>
                            <div class="swiper-button-prev"></div>
                        </div>

                        <div thumbsSlider="" class="swiper mySwiper car-slider-thumb mt-2">
                            <div class="swiper-wrapper">
                                @foreach (var img in Model.CarImages)
                                {
                                    <div class="swiper-slide">
                                        <img src="/@img.ImagePath" />
                                    </div>
                                }
                            </div>
                        </div>

               

                    @* <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.CarImages)
        </dt>
        <dd class = "col-sm-10">
            @foreach(var img in Model.CarImages)
            {

                <img src="img" alt="Car Image" style="width:400px;height:auto;" />
            }
        </dd> *@
                }

                <!-- Car Info -->
                <div class="info-section">
                    <div class="car-category">@Model.Category.Name </div>
                    <h2 class="car-name d-flex justify-content-between">@Model.Name @Model.ModelYear   <a class="btn btn-primary" asp-controller="car" asp-action="edit" asp-route-id="@Model.Id">Edit</a> </h2>
                    <div class="rating">
                        <div class="stars">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                        </div>
                        <span class="rating-text">4.5 (128 reviews)</span>
                    </div>

                    <div class="specs-grid">
                        <div class="spec-item">
                            <div class="spec-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="spec-info">
                                <div class="spec-label">Passengers</div>
                                 <div class="spec-value">@Model.Capacity</div> 
                            </div>
                        </div>

                        <div class="spec-item">
                            <div class="spec-icon">
                                <i class="fas fa-cog"></i>
                            </div>
                            <div class="spec-info">
                                <div class="spec-label">Transmission</div>
                                <div class="spec-value">Automatic</div>
                            </div>
                        </div>

                        <div class="spec-item">
                            <div class="spec-icon">
                                <i class="fas fa-gas-pump"></i>
                            </div>
                            <div class="spec-info">
                                <div class="spec-label">Fuel Type</div>
                                <div class="spec-value">Petrol</div>
                            </div>
                        </div>

                        <div class="spec-item">
                            <div class="spec-icon">
                                <i class="fas fa-calendar"></i>
                            </div>
                            <div class="spec-info">
                                <div class="spec-label">Year</div>
                                <div class="spec-value">@Model.ModelYear</div>
                            </div>
                        </div>

                        <div class="spec-item">
                            <div class="spec-icon">
                                <i class="fas fa-door-open"></i>
                            </div>
                            <div class="spec-info">
                                <div class="spec-label">Doors</div>
                                <div class="spec-value">4 Doors</div>
                            </div>
                        </div>

                        <div class="spec-item">
                            <div class="spec-icon">
                                <i class="fas fa-suitcase"></i>
                            </div>
                            <div class="spec-info">
                                <div class="spec-label">Luggage</div>
                                <div class="spec-value">3 Bags</div>
                            </div>
                        </div>
                    </div>


                </div>

                <!-- Features -->
                <div class="features-section">
                    <h3 class="section-title">Features & Amenities</h3>
                    <div class="features-grid">
                        <div class="feature-item">
                            <i class="fas fa-check-circle"></i>
                            <span>GPS Navigation</span>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-check-circle"></i>
                            <span>Air Conditioning</span>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-check-circle"></i>
                            <span>Bluetooth</span>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-check-circle"></i>
                            <span>USB Port</span>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-check-circle"></i>
                            <span>Leather Seats</span>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-check-circle"></i>
                            <span>Sunroof</span>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-check-circle"></i>
                            <span>Parking Sensors</span>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-check-circle"></i>
                            <span>Backup Camera</span>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-check-circle"></i>
                            <span>Cruise Control</span>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-check-circle"></i>
                            <span>ABS Brakes</span>
                        </div>
                    </div>
                </div>

                <!-- Description -->
                <div class="description-section">
                    <h3 class="section-title">Description</h3>
                    <p class="description-text">
                        Experience luxury and comfort with the Mercedes-Benz C-Class 2024. This premium sedan
                        combines elegant design with cutting-edge technology to deliver an exceptional driving
                        experience. Perfect for business trips, special occasions, or exploring the city in style.
                    </p>
                    <p class="description-text">
                        The C-Class features a powerful yet efficient engine, advanced safety systems, and a
                        sophisticated interior with premium materials. Whether you're driving through the city
                        or embarking on a road trip, this vehicle ensures maximum comfort and performance.
                    </p>
                </div>
            </div>

            <!-- Right Column - Booking Card -->
            <div class="col-lg-4">
                <div class="booking-card">
                    <h3 class="booking-title">Book This Car</h3>

                    <div class="price-section">
                        <div class="price-label">Rental Price</div>
                        <div class="price">1,200 EGP <span>/ day</span></div>
                    </div>

                    <form>
                        <div class="mb-3">
                            <label class="form-label">Pick-up Location</label>
                            <select class="form-select">
                                <option selected>Select Location</option>
                                <option>Cairo Airport</option>
                                <option>Downtown Cairo</option>
                                <option>Alexandria</option>
                                <option>Hurghada</option>
                            </select>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Pick-up Date</label>
                            <input type="date" class="form-control">
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Pick-up Time</label>
                            <input type="time" class="form-control">
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Return Date</label>
                            <input type="date" class="form-control">
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Return Time</label>
                            <input type="time" class="form-control">
                        </div>

                        <div class="total-section">
                            <div class="total-row">
                                <span class="total-label">3 Days Rental</span>
                                <span class="total-value">3,600 EGP</span>
                            </div>
                            <div class="total-row">
                                <span class="total-label">Insurance</span>
                                <span class="total-value">300 EGP</span>
                            </div>
                            <div class="total-row">
                                <span class="total-label">Taxes</span>
                                <span class="total-value">195 EGP</span>
                            </div>
                            <hr>
                            <div class="total-row">
                                <span class="total-label">Total</span>
                                <span class="total-final">4,095 EGP</span>
                            </div>
                        </div>

                        <button type="submit" class="btn-book">Book Now</button>
                    </form>

                    <div class="mt-3 text-center">
                        <small class="text-muted">Free cancellation up to 24 hours before pick-up</small>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>


@* <div> *@
@*     @if (User.IsInRole("Customer")&& User.Identities.Any(i => i.IsAuthenticated)) *@
@*     { *@
@*         <a asp-action="Create" asp-controller="Rental" class="btn btn-primary" asp-route-carId="@Model.Id">Rent</a> *@

@*     } *@

@*     <a asp-action="Index" class="btn btn-primary">Back to List</a> *@
@* </div> *@

@* @await Html.ActionAsync("GetCarDetailReviews", "Review", new { carId = Model.Id}) *@

@await Html.PartialAsync("_CarReviews", Model.Reviews)





  <!-- Swiper JS -->
  <script src="https://cdn.jsdelivr.net/npm/swiper@12/swiper-bundle.min.js"></script>

  <!-- Initialize Swiper -->
  <script>
    var swiper = new Swiper(".mySwiper", {
      spaceBetween: 10,
      slidesPerView: 4,
      freeMode: true,
      watchSlidesProgress: true,
    });
    var swiper2 = new Swiper(".mySwiper2", {
      spaceBetween: 10,
      navigation: {
        nextEl: ".swiper-button-next",
        prevEl: ".swiper-button-prev",
      },
      thumbs: {
        swiper: swiper,
      },
    });
  </script>