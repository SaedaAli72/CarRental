@model CarRentalBLL.ViewModels.Car.CarDetailsWithReviewVM
@section Styles {
    <link rel="stylesheet" href="~/css/car-details.css" />
}
@{
    ViewData["Title"] = "Details";
}

<h1>Details</h1>

<div>
    <hr />
    <dl class="row">
        @* <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Id)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Id)
        </dd> *@

        @if (Model.CarImages != null)
        {
            <div class="col-6">

                <div style="--swiper-navigation-color: #fff; --swiper-pagination-color: #fff" class="swiper mySwiper2 car-slider-main">
                    <div class="swiper-wrapper">
                        @foreach (var img in Model.CarImages)
                        {
                            <div class="swiper-slide">
                                <img src="/@img.ImagePath" />
                            </div>
                        }
                    </div>
                    <div class="swiper-button-next"></div>
                    <div class="swiper-button-prev"></div>
                </div>

                <div thumbsSlider="" class="swiper mySwiper car-slider-thumb mt-2">
                    <div class="swiper-wrapper">
                        @foreach (var img in Model.CarImages)
                        {
                            <div class="swiper-slide">
                                <img src="/@img.ImagePath" />
                            </div>
                        }
                    </div>
                </div>

            </div>

        @* <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.CarImages)
        </dt>
        <dd class = "col-sm-10">
            @foreach(var img in Model.CarImages)
            {
                
                <img src="img" alt="Car Image" style="width:400px;height:auto;" />
            }
        </dd> *@
        }
        <div class="col-6">
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Name)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Name)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Brand)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Brand)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.ModelYear)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.ModelYear)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Color)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Color)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.PricePerDay)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.PricePerDay)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Status)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Status)
        </dd>
    </dl>
</div>
</div>
<div>
    @* @if (!User.IsInRole("Admin")&&)) *@
    <a asp-action="Create" asp-controller="Rental" class="btn btn-primary" asp-route-carId="@Model.Id">Rent</a>

    <a asp-action="Index" class="btn btn-primary">Back to List</a>
</div>

@* @await Html.ActionAsync("GetCarDetailReviews", "Review", new { carId = Model.Id}) *@

@await Html.PartialAsync("_CarReviews", Model.Reviews)





  <!-- Swiper JS -->
  <script src="https://cdn.jsdelivr.net/npm/swiper@12/swiper-bundle.min.js"></script>

  <!-- Initialize Swiper -->
  <script>
    var swiper = new Swiper(".mySwiper", {
      spaceBetween: 10,
      slidesPerView: 4,
      freeMode: true,
      watchSlidesProgress: true,
    });
    var swiper2 = new Swiper(".mySwiper2", {
      spaceBetween: 10,
      navigation: {
        nextEl: ".swiper-button-next",
        prevEl: ".swiper-button-prev",
      },
      thumbs: {
        swiper: swiper,
      },
    });
  </script>