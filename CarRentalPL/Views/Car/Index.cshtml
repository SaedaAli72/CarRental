@model IEnumerable<CarRentalBLL.ViewModels.Car.CarCardVM>

@{
    ViewData["Title"] = "Index";
    SelectList options = new SelectList(ViewBag.Categories, "Id", "Name");
    SelectList options2 = new SelectList(ViewBag.Brands);

}

@section Styles {
    <link rel="stylesheet" href="~/css/Cars-Page.css" />
}

<!-- Page Header -->
<section class="page-header">
    <div class="container">
        <h1 class="page-title">Our Vehicles</h1>
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a asp-action="Index" asp-controller="Test" style="color: rgba(255,255,255,0.8); text-decoration: none;">Home</a></li>
                <li class="breadcrumb-item active" aria-current="page">Vehicles</li>
            </ol>
        </nav>

    </div>
</section>

<!-- Filter Section -->
<section class="container mt-4">
    <div class="filter-section">

        <h4 class="filter-title">Filter Vehicles</h4>
            <form asp-action="Index" method="get">
        <div class="row justify-content-center g-3">
                <div class="col-md-4">
                    <label class="form-label">Search by Name :</label>
                    <input type="text" placeholder="Search by Name" class="form-control" name="searchTerm" value="@ViewData["SearchTerm"]" />

                </div>
            <div class="col-md-4">
                    <label name="CategoryId" class="form-label">Category</label>
                    <select name="CategoryId" asp-items="options" class="form-select">
                    <option selected value="">All Categories</option>
                    </select>
            </div>
            <div class="col-md-4">
                    <label name="Brands" class="form-label">Brand</label>
                    <select name="Brands" asp-items="options2" class="form-select">
                    <option selected value="">All Brands</option>
                </select>
            </div>
       
            <div class="col-md-12">
                    <input type="submit" value="Search" class="btn btn-primary-custom w-100" />

                </div>

        </div>
          </form>
    </div>
</section>

<!-- Vehicles Section -->
<section class="vehicles-section">
    <div class="container">
        <div class="section-header">
            <span class="results-count">Showing 12 of 48 vehicles</span>
            @if (User.IsInRole("Owner"))
            {

                <a asp-action="Create" class="btn btn-primary-custom">Create New</a>
            }
        </div>

        <div class="row">
           
            @foreach(var item in Model)
            {
                <partial name="_CarList" model="item" />
            }

        </div>

        <!-- Pagination -->
        <nav aria-label="Page navigation">
            <ul class="pagination justify-content-center">
                <li class="page-item disabled">
                    <a class="page-link" href="#" tabindex="-1">Previous</a>
                </li>
                <li class="page-item active"><a class="page-link" href="#">1</a></li>
                <li class="page-item"><a class="page-link" href="#">2</a></li>
                <li class="page-item"><a class="page-link" href="#">3</a></li>
                <li class="page-item"><a class="page-link" href="#">4</a></li>
                <li class="page-item">
                    <a class="page-link" href="#">Next</a>
                </li>
            </ul>
        </nav>
    </div>
</section>


@* 
<form asp-action="Index" method="get">
    <p>
        <div class=" w-25">

        Search by min price : <input type="Range" class="form-range" min="100" max="3000" name="minPrice" id="priceRange" value="@ViewData["MinPrice"]" step="100" />
        <output for="priceRange" id="rangeValue" aria-hidden="true"></output>
        </div>

        
        <input type="submit" value="Search" class="btn btn-primary" />
    </p>
</form> *@


@* <script>
    //  function submitForm() {

    //     document.getElementById("searchForm").submit();
    // }
    // This is an example script, please modify as needed
    const rangeInput = document.getElementById('priceRange');
    const rangeOutput = document.getElementById('rangeValue');

    // Set initial value
    rangeOutput.textContent = rangeInput.value;

    rangeInput.addEventListener('input', function() {
      rangeOutput.textContent = this.value;
    });
</script> *@
